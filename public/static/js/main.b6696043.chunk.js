(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){},41:function(e,t,a){e.exports=a.p+"static/media/loader.ee9c1c4b.gif"},42:function(e,t,a){e.exports=a(72)},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},61:function(e,t,a){},63:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(36),i=a.n(r),s=(a(47),a(4)),c=a(5),l=a(7),u=a(6),m=a(8),h=(a(48),a(22)),p=(a(49),o.a.createContext(null)),d=function(e){return function(t){return o.a.createElement(p.Consumer,null,function(a){return o.a.createElement(e,Object.assign({},t,{firebase:a}))})}},f=p,b=a(23),v=a.n(b),g=(a(52),a(54),{apiKey:"AIzaSyCIVhfUaVA5YEK9EbrpaMevkIThVIHGa2k",authDomain:"ohmanotes.firebaseapp.com",databaseURL:"https://ohmanotes.firebaseio.com",projectId:"ohmanotes",storageBucket:"ohmanotes.appspot.com",messagingSenderId:"92214363528",appId:"1:92214363528:web:68ab93fa33d24559"}),E=function e(){var t=this;Object(s.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.user=function(e){return t.db.ref("users/".concat(e))},this.notes=function(e){return t.db.ref("notes/".concat(e))},this.noteList=function(e,a){return t.db.ref("notes/".concat(e,"/").concat(a))},v.a.initializeApp(g),this.auth=v.a.auth(),this.db=v.a.database()},C=a(12),O=a(16),j=a(18),y=a(14),w=(a(61),function(e){function t(e){var a;if(Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){a.setState(Object(y.a)({},e.target.id,e.target.value)),a.props.data.input.forEach(function(t){t.key===e.target.id&&t.onChange(t.key,e.target.value)})},e.data.hasInput){var n={};e.data.input.forEach(function(e){return n[e.key]=""}),a.state=Object(j.a)({},n)}return a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"modal"},o.a.createElement("section",{className:"modal-content"},o.a.createElement("span",{className:"close",onClick:this.props.data.button2.cancelAction},"\xd7"),this.props.data.hasMessage&&this.props.data.message,this.props.data.hasInput&&this.props.data.input.map(function(t){return o.a.createElement("input",{id:t.key,value:e.state[t.key],key:t.key,onChange:e.onChange,placeholder:t.placeholder})}),o.a.createElement("footer",{className:"buttons-group"},o.a.createElement("button",{onClick:this.props.data.button1.confirmAction},this.props.data.button1.text),o.a.createElement("button",{onClick:this.props.data.button2.cancelAction},this.props.data.button2.text))))}}]),t}(n.Component)),k=d(function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).noteList="",a.allowSave=!0,a.timing=3e3,a.modalConfigCreate={hasInput:!0,hasMessage:!1,input:[{key:"_315458m",onChange:function(e,t){return a.onModalChange(e,t)},value:"",placeholder:"Escreva o nome da nota :)"}],button1:{confirmAction:function(){return a.checkNote()},text:"OK"},button2:{cancelAction:function(){return a.onModalClose()},text:"CANCEL"}},a.modalConfigAutoSave={hasInput:!1,hasMessage:!0,button1:{confirmAction:function(){return a.setAutoSave()},text:"Ok"},button2:{cancelAction:function(){return a.onModalClose()},text:"Cancel"}},a.setAutoSave=function(){a.onModalClose(),a.setState({autoSave:!0})},a.onChange=function(e){var t=a.state.note;a.setState({showModal:!1,note:{title:a.state.note.title?a.state.note.title:a.modalConfigCreate.input[0].value,content:e.target.value,dates:{lastEdit:new Date,creation:t.dates?t.dates.creation:new Date}}})},a.enableSaving=function(){a.state.isCreateScenario&&a.setState({}),a.setState({showModal:!0,isSavingEnabled:!0})},a.saveNote=function(){var e=a.state.note;if(a.state.isCreateScenario){e.title=a.modalConfigCreate.input[0].value;var t=a.props.firebase.notes(a.props.user.uid).push({note:e}).getKey();a.setState({key:t,isCreateScenario:!1})}else a.props.firebase.noteList(a.props.user.uid,a.state.key).set({note:e})},a.startTimer=function(){a.clearTimer(),a.state.isSavingEnabled&&(a.typingTimer=setTimeout(a.saveNote,a.timing))},a.clearTimer=function(){clearTimeout(a.typingTimer)},a.checkNote=function(){return a.setState({note:{title:a.modalConfigCreate.input[0].value,showModal:!1}}),a.state.isCreateScenario?(a.saveNote(),!0):(a.props.firebase.notes(a.props.user.uid).once("value").then(function(e){a.noteList=e.val(),Object.keys(a.noteList).forEach(function(e){if(a.noteList[e].title.trim()===a.modalConfigCreate.input[0].value.trim())return a.sameNameError(),!1})}),!0)},a.sameNameError=function(){a.allowSave=!1,alert("same name found!")},a.onModalChange=function(e,t){a.modalConfigCreate.input.forEach(function(a){return a.key===e?a.value=t:null})},a.onModalClose=function(){a.setState({showModal:!1})},a.state={autoSave:!1,showModal:!1,isSavingEnabled:!!a.props.value,isCreateScenario:!a.props.value,key:a.props.value?a.props.value.id:"",note:{title:a.props.value?a.props.value.title:"",_userId:a.props.user.uid,dates:{creation:new Date,lastEdit:null},content:a.props.value?a.props.value.content:"just bring it on ..."}},a.onModalChange=a.onModalChange.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.note;return console.log("text-field-render"),o.a.createElement("div",{className:"text-field"},this.state.showModal&&o.a.createElement(w,{data:this.props.value?this.modalConfigAutoSave:this.modalConfigCreate}),!this.state.autoSave&&o.a.createElement(O.a,{icon:C.e,className:"right-top-align",size:"2x",onClick:this.enableSaving}),o.a.createElement("textarea",{onChange:this.onChange,autoFocus:!0,onKeyUp:this.startTimer,onKeyDown:this.clearTimer,value:e.content}))}}]),t}(o.a.Component)),S=a(15),N=(a(63),a(10)),x="/signin/",A="/signup/",M="/",P="/profile/",I="/note/",U=a(20),L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleLogout=function(){a.props.firebase.doSignOut().then(function(){a.props.history.push(M)})},a.toggleActive=function(e){Object.keys(a.state).forEach(function(t){"activeColor"!==t&&(t===e?a.setState(Object(y.a)({},t,!0)):a.setState(Object(y.a)({},t,!1)))}),"logout"===e&&a.handleLogout()},a.state={main:!0,myNotes:!1,settings:!1,logout:!1,myProfile:!1,activeColor:"rgb(237, 173, 250)"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("nav",{className:"sidebar-menu"},o.a.createElement("ul",null,o.a.createElement(N.b,{to:M},o.a.createElement("li",{onClick:function(){return e.toggleActive("myNotes")}}," ",o.a.createElement(O.a,{icon:C.g,color:this.state.myNotes?this.state.activeColor:"white",size:"4x"}))),o.a.createElement(N.b,{to:"/settings/"},o.a.createElement("li",{onClick:function(){return e.toggleActive("settings")}}," ",o.a.createElement(O.a,{icon:C.a,color:this.state.settings?this.state.activeColor:"white",size:"4x"})," ")),o.a.createElement(N.b,{to:P},o.a.createElement("li",{onClick:function(){return e.toggleActive("myProfile")}}," ",o.a.createElement(O.a,{icon:C.h,color:this.state.myProfile?this.state.activeColor:"white",size:"4x"})," ")),o.a.createElement(N.b,{to:M},o.a.createElement("li",{onClick:function(){return e.toggleActive("logout")}}," ",o.a.createElement(O.a,{icon:C.f,color:this.state.logout?this.state.activeColor:"white",size:"4x"})," "))))}}]),t}(o.a.Component),T=Object(S.a)(U.e,d)(L),D=(a(66),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).toggleSection=function(){var e=a.state.showSection;a.setState({showSection:!e})},a.state={showSection:!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"color-picker"},o.a.createElement(O.a,{onClick:this.toggleSection,icon:this.state.showSection?C.b:C.c,size:"1x",className:"color-picker-icon"}),this.state.showSection&&o.a.createElement(W,{color:this.props.color}))}}]),t}(o.a.Component)),W=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).setColor=function(e){a.props.color(e)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("section",null,o.a.createElement("ul",null,o.a.createElement("li",{className:"color-1",onClick:function(){return e.setColor("245, 202, 124")}}),o.a.createElement("li",{className:"color-2",onClick:function(){return e.setColor("237, 173, 250")}}),o.a.createElement("li",{className:"color-3",onClick:function(){return e.setColor("137, 137, 206")}}),o.a.createElement("li",{className:"color-4",onClick:function(){return e.setColor("123, 241, 236")}})))}}]),t}(o.a.Component),z=D,F=(a(67),a(41)),K=a.n(F),R=(a(68),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"loader"},o.a.createElement("img",{src:K.a,alt:"Wait a moment while we load your data"}))}}]),t}(n.Component)),_=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={loading:!0},a.props.firebase.notes(e.user.uid).once("value").then(function(e){a.setState({myNotes:e.val(),loading:!1})}),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=[];return t.unshift("addElement"),this.state&&this.state.myNotes&&Object.keys(this.state.myNotes).forEach(function(e){return t.push(e)}),o.a.createElement("div",{className:"my-notes"},o.a.createElement("ul",{className:"no-select"},t.length>0&&t.map(function(t){return"addElement"!==t?o.a.createElement("li",{key:e.state.myNotes[t].note.title,onDoubleClick:function(){return function(t){e.props.history.push({pathname:I,state:{item:t}})}(t)}},o.a.createElement("div",{className:"card-title"},e.state.myNotes[t].note.title),o.a.createElement("div",{className:"card-content"},(a=e.state.myNotes[t].note.content).length>20?"".concat(a.substring(0,20),"..."):a.substring(0,20))):o.a.createElement(B,{key:t});var a}),this.state.loading&&o.a.createElement(R,null)))}}]),t}(o.a.Component),B=function(){return o.a.createElement("li",null,o.a.createElement(N.b,{to:I},o.a.createElement("div",{className:"add-icon"},o.a.createElement(O.a,{icon:C.d,size:"3x"}))))},V=d(Object(S.a)(U.e,d)(_)),H=(a(35),{username:"",email:"",passwordOne:"",passwordTwo:"",error:null}),J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,o=t.email,r=t.passwordOne;a.props.firebase.doCreateUserWithEmailAndPassword(o,r).then(function(e){return a.props.firebase.user(e.user.uid).set({username:n,email:o})}).then(function(){a.setState(Object(j.a)({},H)),a.props.history.push(M)}).catch(function(e){throw Error(e)})},a.onChange=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.state=Object(j.a)({},H),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.passwordOne,r=e.passwordTwo,i=e.error,s=n!==r||""===n||""===a|""===t;return o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("input",{name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"enter your username"}),o.a.createElement("input",{name:"email",value:a,onChange:this.onChange,type:"email",placeholder:"enter your email"}),o.a.createElement("input",{name:"passwordOne",value:n,onChange:this.onChange,type:"password",placeholder:"enter your password"}),o.a.createElement("input",{name:"passwordTwo",value:r,onChange:this.onChange,type:"password",placeholder:"repeat your password"}),o.a.createElement("button",{disabled:s},"Sign up"),i&&o.a.createElement("p",null," ",i.message," "))}}]),t}(n.Component),G=Object(S.a)(U.e,d)(J),Y=function(){return o.a.createElement("p",null,"Don't have an account?",o.a.createElement(N.b,{to:A}," Create one! xD "))},$=function(){return o.a.createElement("div",{className:"container"},o.a.createElement("section",{className:"sign"},o.a.createElement("h1",null,"SignUp"),o.a.createElement(G,null)))},q=(a(69),o.a.createRef()),Q=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"landing-page flex flex-jutify-center",ref:q},o.a.createElement("div",{className:"flex shadow"},o.a.createElement("h1",{className:"title"},"Oh, My Notes!")),o.a.createElement("button",{className:"login-button"},o.a.createElement(N.b,{to:x},"Enter")),o.a.createElement("p",{className:"thank-you-note"}," Photo by Min An from Pexels "))}}]),t}(n.Component),X=Object(U.e)(Q),Z={email:"",password:"",error:""},ee=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,o=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,o).then(function(){a.setState(Object(j.a)({},Z)),a.props.history.push(M)}).catch(function(e){a.setState({error:e})})},a.onChange=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.state=Object(j.a)({},Z),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,r=""===a||""===t;return o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("input",{name:"email",value:t,type:"email",placeholder:"enter your email",onChange:this.onChange}),o.a.createElement("input",{name:"password",value:a,type:"password",placeholder:"enter your password",onChange:this.onChange}),o.a.createElement("button",{disabled:r},"Sign in"),n&&o.a.createElement("p",null,n.message))}}]),t}(n.Component),te=Object(S.a)(U.e,d)(ee),ae=function(e){return o.a.createElement("div",{className:"container"},o.a.createElement("section",{className:"sign"},o.a.createElement("h1",null,"Hi, there :)"),o.a.createElement(te,null),o.a.createElement(Y,null)))},ne=(a(70),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"App Settings"),o.a.createElement(oe,null))}}]),t}(n.Component)),oe=function(e){return o.a.createElement("p",null,"Change Password")},re=ne,ie=(a(71),o.a.createRef()),se=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={authUser:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){e.user=t,t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.state.authUser?o.a.createElement(ue,{user:this.user}):o.a.createElement(le,null))}}]),t}(o.a.Component),ce=function(e){ie.current.children[0].children[1].style.backgroundColor="rgb(".concat(e,")"),ie.current.children[0].style.backgroundColor="rgb(".concat(e,")"),ie.current.children[1].style.backgroundColor="rgb(".concat(e,")")};function le(){return o.a.createElement(N.a,null,o.a.createElement(U.a,{exact:!0,path:M,component:X}),o.a.createElement(U.a,{exact:!0,path:A,render:function(){return o.a.createElement($,null)}}),o.a.createElement(U.a,{exact:!0,path:x,render:function(){return o.a.createElement(ae,null)}}))}function ue(e){return o.a.createElement(N.a,null,o.a.createElement(T,null),o.a.createElement("div",{className:"content"},o.a.createElement(U.a,{exact:!0,path:I,render:function(){return o.a.createElement(he,{user:e.user})}}),o.a.createElement(U.a,{exact:!0,path:M,render:function(){return o.a.createElement(V,{user:e.user})}}),o.a.createElement(U.a,{exact:!0,path:P,component:re})))}var me=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e)))._isMounted=!1,a.state={hasFinishedLoading:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;if(this.props.history.location.state){console.log("main-writing-view-render");var t=this.props.history.location.state.item;this.props.firebase.noteList(this.props.user.uid,this.props.history.location.state.item).once("value").then(function(a){var n=a.val();n.note.id=t,e.setState({value:n,hasFinishedLoading:!0})})}}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"render",value:function(){return o.a.createElement("div",{className:"main-writing-view",ref:ie},this.props.history.location.state&&this.state.hasFinishedLoading&&o.a.createElement(k,{user:this.props.user,value:this.state.value.note}),!this.props.history.location.state&&o.a.createElement(k,{user:this.props.user}),o.a.createElement(z,{color:ce}))}}]),t}(o.a.Component),he=Object(S.a)(U.e,d)(me),pe=d(Object(S.a)(d,U.e)(se));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(f.Provider,{value:new E},o.a.createElement(N.a,null,o.a.createElement(pe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[42,1,2]]]);
//# sourceMappingURL=main.b6696043.chunk.js.map